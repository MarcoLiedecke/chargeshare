{% extends "base.html" %}

{% block title %}ChargeShare - Deleøkonomi for EV Ladestationer{% endblock %}

{% block head_styles %}
/* Hero Section */
.hero {
    position: relative;
    padding: 100px 0 120px;
    overflow: hidden;
}

.hero-content {
    position: relative;
    z-index: 2;
}

.hero h1 {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 24px;
    background: linear-gradient(90deg, var(--cs-primary-dark), var(--cs-primary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.hero-image-container {
    position: relative;
    z-index: 1;
}

.hero-image {
    border-radius: var(--cs-border-radius);
    box-shadow: var(--cs-shadow);
    width: 100%;
    height: auto;
    object-fit: cover;
}

.hero-stats {
    display: flex;
    gap: 24px;
    margin-top: 32px;
}

.stat-item {
    text-align: center;
}

.stat-number {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--cs-primary);
    margin-bottom: 8px;
    display: block;
}

.stat-text {
    font-size: 1rem;
    color: var(--cs-gray-800);
}

/* Stats */
.stats-section {
    background-color: var(--cs-primary);
    padding: 48px 0;
    margin-bottom: 80px;
}

.counter-box {
    color: white;
    text-align: center;
}

.counter-box .counter {
    font-size: 3rem;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 8px;
}

.counter-box p {
    font-size: 1.125rem;
    margin-bottom: 0;
    opacity: 0.9;
}

/* Features */
.features {
    padding: 100px 0;
    background-color: var(--cs-light);
    position: relative;
    overflow: hidden;
}

.features-bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 0;
    pointer-events: none;
}

.features-bolt {
    position: absolute;
    opacity: 0.07;
}

.section-header {
    text-align: center;
    margin-bottom: 64px;
}

.section-header h2 {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--cs-dark);
    margin-bottom: 16px;
    position: relative;
    display: inline-block;
}

.section-header h2:after {
    content: '';
    position: absolute;
    width: 60px;
    height: 4px;
    background-color: var(--cs-primary);
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 2px;
}

.section-header p {
    font-size: 1.25rem;
    color: var(--cs-gray-800);
    max-width: 700px;
    margin: 24px auto 0;
}

.features .card {
    transition: all 0.3s ease;
    overflow: hidden;
    border-radius: 12px;
}

.features .card:hover {
    transform: translateY(-8px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.1) !important;
}

.features .card-body {
    transition: all 0.3s ease;
}

.features .badge {
    transition: all 0.3s ease;
    font-weight: 500;
    padding: 6px 12px;
}

.features .badge:hover {
    transform: translateY(-2px);
}

/* How It Works */
.how-it-works {
    padding: 100px 0;
    background-color: var(--cs-gray-100);
    position: relative;
    overflow: hidden;
}

.how-it-works-bg {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 0;
    pointer-events: none;
}

.how-it-works-bolt {
    position: absolute;
    opacity: 0.07;
}

.step-container {
    position: relative;
    margin-top: 64px;
}

.step-container:before {
    content: '';
    position: absolute;
    height: 100%;
    width: 2px;
    background-color: var(--cs-primary-light);
    left: 50%;
    top: 0;
    transform: translateX(-50%);
    z-index: 1;
}

@media (max-width: 768px) {
    .step-container:before {
        left: 24px;
        transform: none;
    }
}

.step {
    position: relative;
    margin-bottom: 80px;
}

.step-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background-color: var(--cs-primary);
    color: white;
    font-weight: 700;
    font-size: 1.25rem;
    border-radius: 50%;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    z-index: 2;
}

.step-content {
    padding: 32px;
    background-color: white;
    border-radius: var(--cs-border-radius);
    box-shadow: var(--cs-shadow);
    width: calc(50% - 50px);
    position: relative;
}

.step-content:after {
    content: '';
    position: absolute;
    top: 16px;
    width: 20px;
    height: 20px;
    background-color: white;
    transform: rotate(45deg);
}

.step:nth-child(odd) .step-content {
    margin-left: auto;
}

.step:nth-child(odd) .step-content:after {
    left: -10px;
}

.step:nth-child(even) .step-content {
    margin-right: auto;
}

.step:nth-child(even) .step-content:after {
    right: -10px;
}

.step-icon {
    font-size: 2rem;
    color: var(--cs-primary);
    margin-bottom: 16px;
}

.step-title {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 8px;
}

.step-text {
    color: var(--cs-gray-800);
}

@media (max-width: 768px) {
    .step-content {
        width: calc(100% - 64px);
        margin-left: 48px !important;
    }
    
    .step:nth-child(odd) .step-content:after,
    .step:nth-child(even) .step-content:after {
        left: -10px;
        right: auto;
    }
    
    .step-number {
        left: 24px;
        transform: none;
    }
}

/* App Screenshots */
.app-screens {
    padding: 100px 0;
    background-color: white;
}

.phone-mockup {
    position: relative;
    display: inline-block;
    margin: 0 -30px;
    transition: transform 0.3s ease;
    z-index: 1;
}

.phone-mockup:hover {
    transform: translateY(-20px);
    z-index: 2;
}

.phone-mockup img {
    max-width: 270px;
    border-radius: 36px;
    box-shadow: 0 24px 40px rgba(0, 0, 0, 0.15);
}

.phone-mockup:nth-child(odd) {
    top: 40px;
}

/* Testimonials */
.testimonials {
    padding: 100px 0;
    background-color: var(--cs-gray-100);
}

.testimonial-card {
    padding: 40px;
    height: 100%;
}

.testimonial-card .quote {
    font-size: 3rem;
    line-height: 1;
    color: var(--cs-primary-light);
    margin-bottom: 24px;
}

.testimonial-text {
    font-size: 1.125rem;
    color: var(--cs-dark);
    font-style: italic;
    margin-bottom: 24px;
}

.testimonial-rating {
    color: var(--cs-accent);
    font-size: 1.25rem;
    margin-bottom: 16px;
}

.testimonial-author {
    display: flex;
    align-items: center;
}

.testimonial-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 16px;
}

.testimonial-name {
    font-weight: 600;
    margin-bottom: 4px;
}

.testimonial-role {
    color: var(--cs-gray-800);
    font-size: 0.875rem;
}

/* CTA Section */
.cta-section {
    padding: 100px 0;
    background-color: var(--cs-primary);
    color: white;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.cta-section h2 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 24px;
}

.cta-section p {
    font-size: 1.25rem;
    margin-bottom: 32px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

.app-buttons {
    display: flex;
    justify-content: center;
    gap: 16px;
    margin-top: 32px;
}

.app-button {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: white;
    color: var(--cs-dark);
    border-radius: var(--cs-border-radius-sm);
    padding: 12px 24px;
    text-decoration: none;
    font-weight: 600;
    transition: var(--cs-transition);
}

.app-button:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
}

.app-button i {
    font-size: 1.5rem;
}

.app-button .app-btn-text {
    display: flex;
    flex-direction: column;
    text-align: left;
}

.app-button .small-text {
    font-size: 0.75rem;
    font-weight: 400;
}

.app-button .big-text {
    font-size: 1rem;
    font-weight: 700;
}

/* Screen Animations */
.float-screen {
    transform: translateY(0px);
    animation: float-animation 6s ease-in-out infinite;
}

.float-screen-delayed {
    animation-delay: 2s;
}

@keyframes float-animation {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

/* Map styles */
.map-section {
    padding: 80px 0;
    background-color: white;
}

.map-container {
    height: 500px;
    border-radius: var(--cs-border-radius);
    overflow: hidden;
    box-shadow: var(--cs-shadow);
}

/* Responsive Adjustments */
@media (max-width: 992px) {
    .hero h1 {
        font-size: 2.5rem;
    }
    
    .section-header h2 {
        font-size: 2rem;
    }
    
    .cta-section h2 {
        font-size: 2rem;
    }
    
    .hero-image-container {
        margin-top: 40px;
    }
    
    .phone-mockup img {
        max-width: 220px;
    }
}

@media (max-width: 768px) {
    .hero {
        padding: 60px 0 80px;
    }
    
    .hero h1 {
        font-size: 2rem;
    }
    
    .hero-stats {
        flex-direction: column;
        gap: 16px;
    }
    
    .section-header {
        margin-bottom: 40px;
    }
    
    .feature-card {
        margin-bottom: 24px;
    }
    
    .phone-mockup {
        margin: 0 -10px;
    }
    
    .phone-mockup img {
        max-width: 180px;
    }
    
    .app-buttons {
        flex-direction: column;
    }
}
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 hero-content">
                <span class="badge bg-primary-light text-primary-dark mb-3">Ny i Danmark</span>
                <h1>Del Din Ladestation, Tjen Penge</h1>
                <p class="lead mb-4">ChargeShare gør det muligt for ejere af elbiler at dele deres private ladestandere, når de ikke er i brug. Du får ekstra indtjening, og andre elbilister får flere lademuligheder.</p>
                <div class="d-flex gap-3">
                    <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg">
                        <i class="bi bi-person-plus-fill"></i>
                        Opret Konto
                    </a>
                    <a href="#how-it-works" class="btn btn-outline-primary btn-lg">
                        <i class="bi bi-lightning-charge-fill"></i>
                        Sådan Virker Det
                    </a>
                </div>
                
                <div class="hero-stats">
                    <div class="stat-item">
                        <span class="stat-number">1,500+</span>
                        <span class="stat-text">Aktive brugere</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">850+</span>
                        <span class="stat-text">Ladestandere</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">12,000+</span>
                        <span class="stat-text">Gennemførte opladninger</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 hero-image-container">
                <img src="{{ url_for('static', filename='images/hero-image.jpg') }}" alt="Elbil ved ladestander" class="hero-image">
            </div>
        </div>
    </div>
</section>


<!-- Map Section (Moved up) -->
<section class="map-section">
    <div class="container">
        <div class="section-header">
            <h2>Find Ladestandere Nær Dig</h2>
            <p>Se et eksempel på vores interaktive kort med tilgængelige ladestandere i København</p>
        </div>
        
        <div class="map-container" id="map">
            <!-- Map will be loaded here -->
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="features" id="features">
    <div class="features-bg">
        <svg class="features-bolt" style="width: 180px; height: 180px; top: 15%; left: 5%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-primary)"/>
        </svg>
        <svg class="features-bolt" style="width: 150px; height: 150px; bottom: 20%; right: 8%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-gray-800)"/>
        </svg>
        <svg class="features-bolt" style="width: 130px; height: 130px; top: 45%; right: 12%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-primary)"/>
        </svg>
        <svg class="features-bolt" style="width: 200px; height: 200px; bottom: 10%; left: 15%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-gray-300)"/>
        </svg>
    </div>
    <div class="container">
        <div class="section-header">
            <h2>Vigtigste Funktioner</h2>
            <p>ChargeShare gør det nemt at dele og finde ladestandere til elbiler</p>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-primary text-white p-4 d-flex flex-column justify-content-center align-items-center">
                                <i class="bi bi-map-fill display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Find Ladestandere</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Find tilgængelige ladestandere i nærheden på vores interaktive kort. Filtrer efter type, effekt og tilgængelighed.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-primary">Kortvisning</span>
                                    <span class="badge bg-light text-primary">Filterindstillinger</span>
                                    <span class="badge bg-light text-primary">Ruteplanlægning</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-gray-300 text-dark p-4 d-flex flex-column justify-content-center align-items-center" style="background-color: var(--cs-gray-300);">
                                <i class="bi bi-cash-coin display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Tjen Penge</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Sæt dine egne priser og tilgængelighed. Få din ladestander til at arbejde for dig, når du ikke bruger den.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-dark">Fleksibel prissætning</span>
                                    <span class="badge bg-light text-dark">Automatisk udbetaling</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-primary-dark text-white p-4 d-flex flex-column justify-content-center align-items-center" style="background-color: var(--cs-primary-dark);">
                                <i class="bi bi-calendar-check-fill display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Nem Booking</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Book din ladetid i forvejen og vær sikker på at have en plads, når du har brug for det. Få notifikationer om din reservation.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-primary-dark">Kalenderintegration</span>
                                    <span class="badge bg-light text-primary-dark">Notifikationer</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-gray-800 text-white p-4 d-flex flex-column justify-content-center align-items-center" style="background-color: var(--cs-gray-800);">
                                <i class="bi bi-shield-check display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Sikker Betaling</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Verificerede brugere, sikre betalinger og pålidelige anmeldelser sikrer en tryg oplevelse for alle.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-gray-800" style="color: var(--cs-gray-800) !important;">Krypteret betaling</span>
                                    <span class="badge bg-light text-gray-800" style="color: var(--cs-gray-800) !important;">Verificering</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-gray-300 text-dark p-4 d-flex flex-column justify-content-center align-items-center" style="background-color: var(--cs-gray-300);">
                                <i class="bi bi-star-fill display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Anmeldelser</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Del dine oplevelser og se andres anmeldelser for at finde de bedste ladestandere i dit område.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-dark">Rating system</span>
                                    <span class="badge bg-light text-dark">Kommentarer</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body p-0">
                        <div class="row g-0 h-100">
                            <div class="col-md-4 bg-primary-light text-dark p-4 d-flex flex-column justify-content-center align-items-center" style="background-color: var(--cs-primary-light);">
                                <i class="bi bi-graph-up-arrow display-2 mb-3"></i>
                                <h3 class="h4 text-center mb-0">Statistik</h3>
                            </div>
                            <div class="col-md-8 p-4">
                                <p class="mb-0">Følg med i din indtjening og se statistik over brugen af din ladestander direkte i appen.</p>
                                <div class="mt-3 d-flex gap-2">
                                    <span class="badge bg-light text-primary">Indtjeningsrapporter</span>
                                    <span class="badge bg-light text-primary">Brugsmønstre</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section class="how-it-works" id="how-it-works">
    <div class="how-it-works-bg">
        <svg class="how-it-works-bolt" style="width: 200px; height: 200px; top: 10%; right: 5%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-primary)"/>
        </svg>
        <svg class="how-it-works-bolt" style="width: 180px; height: 180px; bottom: 15%; left: 8%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-gray-800)"/>
        </svg>
        <svg class="how-it-works-bolt" style="width: 120px; height: 120px; top: 40%; left: 15%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-primary)"/>
        </svg>
        <svg class="how-it-works-bolt" style="width: 150px; height: 150px; bottom: 25%; right: 10%;" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 21l-1-8.4h-3.5l7-12.6 1 8.4h3.5l-7 12.6z" fill="var(--cs-gray-800)"/>
        </svg>
    </div>
    <div class="container">
        <div class="section-header">
            <h2>Sådan Virker Det</h2>
            <p>ChargeShare er designet til at være nemt og intuitivt at bruge for både ladestanderejere og elbilister</p>
        </div>
        
        <div class="row g-4 mb-5">
            <div class="col-lg-6">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-header p-3 bg-primary text-white" style="background-color: var(--cs-primary) !important; border-radius: var(--cs-border-radius) var(--cs-border-radius) 0 0;">
                        <h3 class="h4 m-0 d-flex align-items-center">
                            <i class="bi bi-plug-fill me-2"></i>
                            For Ladestanderejere
                        </h3>
                    </div>
                    <div class="card-body p-3">
                        <!-- Vertical progress tracker -->
                        <div class="position-relative">
                            <!-- Vertical line -->
                            <div class="position-absolute" style="top: 0; bottom: 0; left: 15px; width: 2px; background-color: var(--cs-primary-light);"></div>
                            
                            <!-- Step 1 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle bg-primary text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-primary) !important;">1</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Tilføj din ladestander</h5>
                                    <p class="mb-0 small">Registrer type, effekt og placering i vores system</p>
                                </div>
                            </div>
                            
                            <!-- Step 2 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle bg-primary text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-primary) !important;">2</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Angiv tilgængelighed</h5>
                                    <p class="mb-0 small">Bestem, hvornår andre kan bruge din ladestander</p>
                                </div>
                            </div>
                            
                            <!-- Step 3 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle bg-primary text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-primary) !important;">3</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Godkend bookinger</h5>
                                    <p class="mb-0 small">Gennemgå og accepter reservationer på din ladestander</p>
                                </div>
                            </div>
                            
                            <!-- Step 4 -->
                            <div class="d-flex align-items-start position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle bg-primary text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-primary) !important;">4</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Få betaling</h5>
                                    <p class="mb-0 small">Modtag penge direkte til din konto hver måned</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-header p-3 text-white" style="background-color: var(--cs-gray-800) !important; border-radius: var(--cs-border-radius) var(--cs-border-radius) 0 0;">
                        <h3 class="h4 m-0 d-flex align-items-center">
                            <i class="bi bi-ev-station-fill me-2"></i>
                            For Elbilister
                        </h3>
                    </div>
                    <div class="card-body p-3">
                        <!-- Vertical progress tracker -->
                        <div class="position-relative">
                            <!-- Vertical line -->
                            <div class="position-absolute" style="top: 0; bottom: 0; left: 15px; width: 2px; background-color: var(--cs-gray-300);"></div>
                            
                            <!-- Step 1 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-gray-800) !important;">1</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Opret konto</h5>
                                    <p class="mb-0 small">Registrer dig og tilføj betalingsmetode til hurtig og nem betaling</p>
                                </div>
                            </div>
                            
                            <!-- Step 2 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-gray-800) !important;">2</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Find ladestandere</h5>
                                    <p class="mb-0 small">Søg efter tilgængelige ladestandere i nærheden eller langs din rute</p>
                                </div>
                            </div>
                            
                            <!-- Step 3 -->
                            <div class="d-flex align-items-start mb-3 position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-gray-800) !important;">3</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Book tid</h5>
                                    <p class="mb-0 small">Reservér din opladningstid med få klik og vær sikker på en ledig plads</p>
                                </div>
                            </div>
                            
                            <!-- Step 4 -->
                            <div class="d-flex align-items-start position-relative">
                                <div class="d-flex justify-content-center align-items-center rounded-circle text-white" style="width: 32px; height: 32px; z-index: 2; flex-shrink: 0; background-color: var(--cs-gray-800) !important;">4</div>
                                <div class="ms-3 p-2">
                                    <h5 class="h6 fw-bold mb-1">Oplad & betal</h5>
                                    <p class="mb-0 small">Brug laderen og betal automatisk efter opladning er gennemført</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- App Screenshots -->
<section class="app-screens">
    <div class="container">
        <div class="section-header">
            <h2>ChargeShare App</h2>
            <p>Administrer dine ladestandere og reservationer direkte fra din telefon</p>
        </div>
        
        <div class="text-center mt-5">
            <div class="phone-mockup float-screen">
                <img src="{{ url_for('static', filename='images/app-screen1.jpg') }}" alt="App skærmbillede af kort">
            </div>
            <div class="phone-mockup float-screen float-screen-delayed">
                <img src="{{ url_for('static', filename='images/app-screen2.jpg') }}" alt="App skærmbillede af ladestander detaljer">
            </div>
            <div class="phone-mockup float-screen">
                <img src="{{ url_for('static', filename='images/app-screen3.jpg') }}" alt="App skærmbillede af profil">
            </div>
        </div>
        
        <div class="app-buttons mt-5">
            <a href="https://apps.apple.com" class="app-button">
                <i class="bi bi-apple"></i>
                <div class="app-btn-text">
                    <span class="big-text">App Store</span>
                </div>
            </a>
            <a href="https://play.google.com" class="app-button">
                <i class="bi bi-google-play"></i>
                <div class="app-btn-text">
                    <span class="big-text">Google Play</span>
                </div>
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<!-- Include Leaflet.js for the map -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
<!-- Include Leaflet MarkerCluster for better performance with many markers -->
<script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />

<!-- Navigation dot indicators for sections -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add scroll event listener to show/hide dots based on which section is in view
        const howItWorksSection = document.getElementById('how-it-works');
        const featuresSection = document.getElementById('features');
        const howItWorksDot = document.getElementById('how-it-works-dot');
        const featuresDot = document.getElementById('features-dot');
        
        window.addEventListener('scroll', function() {
            const scrollPosition = window.scrollY + 100; // Add offset for navbar height
            
            // Check if How It Works section is in view
            if (howItWorksSection && howItWorksDot) {
                const howItWorksTop = howItWorksSection.offsetTop;
                const howItWorksBottom = howItWorksTop + howItWorksSection.offsetHeight;
                
                if (scrollPosition >= howItWorksTop && scrollPosition < howItWorksBottom) {
                    howItWorksDot.style.display = 'block';
                } else {
                    howItWorksDot.style.display = 'none';
                }
            }
            
            // Check if Features section is in view
            if (featuresSection && featuresDot) {
                const featuresTop = featuresSection.offsetTop;
                const featuresBottom = featuresTop + featuresSection.offsetHeight;
                
                if (scrollPosition >= featuresTop && scrollPosition < featuresBottom) {
                    featuresDot.style.display = 'block';
                } else {
                    featuresDot.style.display = 'none';
                }
            }
        });
    });
</script>

<script>
    // Initialize map when document is loaded
    document.addEventListener('DOMContentLoaded', function() {
        // Create map centered on Copenhagen, Denmark
        const map = L.map('map').setView([55.6761, 12.5683], 11);
        
        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);
        
        // Include Leaflet MarkerCluster for better performance with many markers (same as dashboard)
        const markers = L.markerClusterGroup({
            maxClusterRadius: 50,
            iconCreateFunction: function(cluster) {
                return L.divIcon({
                    html: `<div style="background-color: var(--cs-primary); width: 46px; height: 46px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">${cluster.getChildCount()}</div>`,
                    className: '',
                    iconSize: [46, 46]
                });
            }
        });
        
        // Custom marker icon (using same function as dashboard)
        const createMarkerIcon = (type) => {
            let color;
            switch(type) {
                case 'Type 2':
                    color = '#0EAD69'; // Primary color
                    break;
                case 'CCS':
                    color = '#2563EB'; // Secondary color
                    break;
                case 'CHAdeMO':
                    color = '#F97316'; // Accent color
                    break;
                case 'Tesla':
                    color = '#8e44ad'; // Purple for Tesla
                    break;
                default:
                    color = '#0EAD69';
            }
            
            return L.divIcon({
                html: `<div class="marker-icon" style="background-color: ${color}; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 2px 5px rgba(0,0,0,0.2);"><i class="bi bi-lightning-charge-fill"></i></div>`,
                className: '',
                iconSize: [40, 40],
                iconAnchor: [20, 40],
                popupAnchor: [0, -40]
            });
        };
        
        // Generate random chargers for Copenhagen (same as dashboard)
        function generateRandomChargers(count) {
            const chargerTypes = ['Type 2', 'CCS', 'CHAdeMO', 'Tesla'];
            const powerRanges = {
                'Type 2': [3.7, 7.4, 11, 22],
                'CCS': [50, 100, 150, 350],
                'CHAdeMO': [50, 100],
                'Tesla': [11, 16.5, 150, 250]
            };
            const neighborhoods = [
                'Nørrebro', 'Østerbro', 'Vesterbro', 'Frederiksberg', 'Amager', 
                'Valby', 'Vanløse', 'Brønshøj', 'Husum', 'Islands Brygge', 
                'Christianshavn', 'Sydhavn', 'Nørreport', 'Hellerup', 'Gentofte',
                'Lyngby', 'Hvidovre', 'Rødovre', 'Glostrup', 'Ballerup'
            ];
            const prefixes = [
                'Hurtig', 'Lynhurtig', 'Super', 'Hjemme', 'Privat', 'Grøn', 'Elbil',
                'Smart', 'Eco', 'Public', 'Fast', 'Express', 'Easy', 'Central',
                'Storbys', 'Lokal', 'Resident', 'EV', 'City', 'Urban'
            ];
            const suffixes = [
                'Charger', 'Lader', 'Station', 'Punkt', 'Spot', 'Hub', 
                'Opladning', 'Ladestander', 'Power', 'Charging', 'Oplader'
            ];
            
            // Copenhagen center
            const centerLat = 55.6761;
            const centerLng = 12.5683;
            
            const chargers = [];
            
            for (let i = 0; i < count; i++) {
                // Random position within ~10km of Copenhagen center
                const lat = centerLat + (Math.random() - 0.5) * 0.12;
                const lng = centerLng + (Math.random() - 0.5) * 0.2;
                
                const type = chargerTypes[Math.floor(Math.random() * chargerTypes.length)];
                const powers = powerRanges[type];
                const power = powers[Math.floor(Math.random() * powers.length)];
                
                // Base price on power
                let basePrice;
                if (power <= 11) basePrice = 25 + Math.random() * 15;
                else if (power <= 50) basePrice = 40 + Math.random() * 25;
                else if (power <= 150) basePrice = 65 + Math.random() * 30;
                else basePrice = 90 + Math.random() * 40;
                
                const price = Math.round(basePrice);
                
                const neighborhood = neighborhoods[Math.floor(Math.random() * neighborhoods.length)];
                const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
                const suffix = suffixes[Math.floor(Math.random() * suffixes.length)];
                
                const name = `${prefix} ${neighborhood} ${suffix}`;
                
                // Random rating between 3.5 and 5.0
                const rating = (3.5 + Math.random() * 1.5).toFixed(1);
                
                // Random number of reviews between 1 and 30
                const reviewCount = Math.floor(1 + Math.random() * 29);
                
                // Random availability - true for most (80%)
                const available = Math.random() > 0.2;
                
                chargers.push({
                    id: i + 1,
                    name,
                    lat,
                    lng,
                    type,
                    power,
                    price,
                    rating,
                    reviewCount,
                    available
                });
            }
            
            return chargers;
        }
        
        // Generate 500 random chargers (same as dashboard)
        const chargers = generateRandomChargers(500);
        
        // Add markers to map (using same popup format as dashboard)
        chargers.forEach(charger => {
            const marker = L.marker([charger.lat, charger.lng], { icon: createMarkerIcon(charger.type) });
            
            const availabilityStatus = charger.available ? 
                '<span style="color: #2ecc71;"><i class="bi bi-check-circle-fill"></i> Tilgængelig nu</span>' : 
                '<span style="color: #e74c3c;"><i class="bi bi-x-circle-fill"></i> Optaget</span>';
            
            const popupContent = `
                <div class="marker-popup" style="font-family: 'Inter', sans-serif; padding: 16px; width: 250px;">
                    <span style="display: inline-block; font-size: 0.75rem; padding: 4px 10px; background-color: var(--cs-primary-light); color: var(--cs-primary-dark); border-radius: 100px; margin-bottom: 12px; font-weight: 500;">${charger.type}</span>
                    <h5 style="font-size: 1.125rem; font-weight: 600; margin-bottom: 12px; color: var(--cs-text-primary);">${charger.name}</h5>
                    
                    <div style="display: flex; align-items: flex-start; gap: 6px; margin-bottom: 10px;">
                        <i class="bi bi-geo-alt"></i>
                        <span>Københavnsområdet</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px; font-weight: 500;">
                        <i class="bi bi-lightning-charge"></i>
                        <span>${charger.power} kW</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px; color: var(--cs-accent);">
                        <i class="bi bi-star-fill"></i>
                        <span>${charger.rating}/5 (${charger.reviewCount} anmeldelser)</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px; font-size: 0.875rem;">
                        ${availabilityStatus}
                    </div>
                    
                    <div style="color: var(--cs-primary); font-weight: 700; font-size: 1.125rem; margin: 12px 0;">kr ${charger.price}/time</div>
                    
                    <button class="btn btn-primary" style="width: 100%;">
                        <i class="bi bi-calendar-plus me-2"></i>Book nu
                    </button>
                </div>
            `;
            
            marker.bindPopup(popupContent);
            markers.addLayer(marker);
        });
        
        map.addLayer(markers);
        
        // Add user location if available
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(position => {
                L.marker([position.coords.latitude, position.coords.longitude], {
                    icon: L.divIcon({
                        html: `<div style="background-color: #2563EB; width: 16px; height: 16px; border-radius: 50%; border: 2px solid white;"></div>`,
                        className: '',
                        iconSize: [16, 16]
                    })
                }).addTo(map).bindPopup('You are here');
            });
        }
    });
</script>
{% endblock %}